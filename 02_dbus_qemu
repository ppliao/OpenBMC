## OpenBMC DBus on QEMU å¯¦é©—ç´€éŒ„

ğŸ¯ ç›®æ¨™
  åœ¨ QEMU ä¸Šå•Ÿå‹• OpenBMCï¼Œä¸¦é€é DBus å·¥å…· (busctl) å­¸ç¿’æŸ¥è©¢ã€ç›£è½èˆ‡æ“ä½œç³»çµ±ç‹€æ…‹ã€‚

ğŸŒ¸ ç’°å¢ƒ
  Host: Ubuntu 20.04 / WSL2
  QEMU target: qemuarm
  Image: obmc-phosphor-image
  Networking: slirp (host port forwarding)
  Tool: busctl, obmcutil, ssh

ğŸ”‘ æ­¥é©Ÿ
1. SSH é€²å…¥ Guest(BMC)
  ssh -p 2222 root@127.0.0.1
  cat /etc/os-release   # ç¢ºèªæ˜¯åœ¨ OpenBMC VM

2. æŸ¥çœ‹ DBus æœå‹™
  busctl list | grep xyz.openbmc_project.State

3. æŸ¥çœ‹ç‰©ä»¶æ¨¹èˆ‡ä»‹é¢
  busctl tree xyz.openbmc_project.State.Host
  busctl introspect xyz.openbmc_project.State.Host /xyz/openbmc_project/state/host0

4. ç›£è½äº‹ä»¶
  busctl monitor xyz.openbmc_project.State.Host

5. è§¸ç™¼ç‹€æ…‹è®ŠåŒ–
  obmcutil poweron
  obmcutil powerstate

6. è®€å–å±¬æ€§
  busctl get-property xyz.openbmc_project.State.Host \
  /xyz/openbmc_project/state/host0 \
  xyz.openbmc_project.State.Host CurrentHostState
